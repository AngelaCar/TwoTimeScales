<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot method for a haz2ts object. — plot.haz2ts • TwoTimeScales</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot method for a haz2ts object. — plot.haz2ts"><meta name="description" content="plot.haz2ts() is the plot method for objects of class haz2ts.
It produces plots of the fitted model with two
time scales (see fit2ts()), either in the original (t,s) plane, while respecting the
constraint imposed by the relation of the two time scales, or in the
transformed (u,s) plane."><meta property="og:description" content="plot.haz2ts() is the plot method for objects of class haz2ts.
It produces plots of the fitted model with two
time scales (see fit2ts()), either in the original (t,s) plane, while respecting the
constraint imposed by the relation of the two time scales, or in the
transformed (u,s) plane."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TwoTimeScales</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Homepage"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
      </ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AngelaCar/TwoTimeScales"><span class="fa fa-github fa-lg fab"></span> github</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot method for a haz2ts object.</h1>
      <small class="dont-index">Source: <a href="https://github.com/AngelaCar/TwoTimeScales/blob/main/R/plot.haz2ts.R" class="external-link"><code>R/plot.haz2ts.R</code></a></small>
      <div class="d-none name"><code>plot.haz2ts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>plot.haz2ts()</code> is the plot method for objects of class <code>haz2ts</code>.
It produces plots of the fitted model with two
time scales (see <code><a href="fit2ts.html">fit2ts()</a></code>), either in the original (t,s) plane, while respecting the
constraint imposed by the relation of the two time scales, or in the
transformed (u,s) plane.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'haz2ts'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  plot_grid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which_plot <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hazard"</span>, <span class="st">"covariates"</span>, <span class="st">"SE"</span>, <span class="st">"slices"</span><span class="op">)</span>,</span>
<span>  where_slices <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="st">"u"</span>, <span class="st">"s"</span><span class="op">)</span>,</span>
<span>  plot_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The output of the function <code>fit2ts</code>. This is an object of
class <code>"haz2ts"</code>.</p></dd>


<dt id="arg-plot-grid">plot_grid<a class="anchor" aria-label="anchor" href="#arg-plot-grid"></a></dt>
<dd><p>(optional) A list containing the parameters to build a new
finer grid of intervals over u and s for plotting. This must be of the
form: <code>plot_grid = list(c(umin, umax, du), c(smin, smax, ds))</code>, where
<code>umin</code>, <code>umax</code> and <code>smin</code>, <code>smax</code> are the minimum and maximum values
desired for the intervals over <code>u</code> and <code>s</code> respectively, and <code>du</code>, <code>ds</code> are
distances between intervals over <code>u</code> and <code>s</code> respectively. Specifying a new
denser grid is used to evaluate the B-spline bases used for estimation on
such grid and plot the estimated surfaces with a greater level of details.
If not specified, the plotting is done using the same B-splines bases as
for the estimation. The function will check if the parameters for the grid
provided by the user are compatible with those originally used to construct
the B-splines for estimating the model. If not, the grid will be adjusted
accordingly and a warning will be returned.</p></dd>


<dt id="arg-which-plot">which_plot<a class="anchor" aria-label="anchor" href="#arg-which-plot"></a></dt>
<dd><p>The type of plot required. Can be one of <code>"hazard"</code>
(default), <code>"covariates"</code>, <code>"SE"</code> or <code>"slices"</code>.</p></dd>


<dt id="arg-where-slices">where_slices<a class="anchor" aria-label="anchor" href="#arg-where-slices"></a></dt>
<dd><p>A vector of values for the cutting points of the desired
slices of the surface. If <code>which_plot == "slices"</code>, please provide this
argument.</p></dd>


<dt id="arg-direction">direction<a class="anchor" aria-label="anchor" href="#arg-direction"></a></dt>
<dd><p>If <code>which_plot == "slices"</code>, indicates the direction for
cutting the surface. If <code>u</code>, then the surface will be cut at the selected
values of <code>u</code> (indicated by <code>where_slices</code>), hence obtaining one-dimensional
curves over <code>s</code>. If <code>s</code>, then the surface will be cut at the selected values
of <code>s</code> (indicated by <code>where_slices</code>), hence obtaining one-dimensional curves
over <code>u</code>.</p></dd>


<dt id="arg-plot-options">plot_options<a class="anchor" aria-label="anchor" href="#arg-plot-options"></a></dt>
<dd><p>A list with all possible options for any of the plots:</p><ul><li><p><code>loghazard</code> A Boolean. Default is <code>FALSE</code>. If <code>FALSE</code> the function
returns a plot of the hazard surface, if <code>TRUE</code> the function returns
a plot of the log-hazard surface.</p></li>
<li><p><code>log10hazard</code> A Boolean. Default is <code>FALSE</code>. If <code>TRUE</code>,
then a log_10 hazard surface is plotted.</p></li>
<li><p><code>cut_extrapolated</code> A Boolean. Default is <code>TRUE</code>. Cuts away the
extrapolated area of the (log-)hazard surface before plotting.</p></li>
<li><p><code>rectangular_grid</code> A Boolean. Default is <code>FALSE</code>. If <code>TRUE</code>, a
rectangular grid is used for plotting also in the (t,s)-plane as opposed
to the grid of parallelograms used as default in the (t,s)-plane.</p></li>
<li><p><code>original</code> A Boolean. Default is <code>TRUE</code>. Plot the (log-)hazard (and/or
the SEs) in the (t,s)-plane. If <code>FALSE</code>, the (log-)hazard (and/or the SEs)
will be plotted in the (u,s)-plane.</p></li>
<li><p><code>tmax</code> The maximum value of <code>t</code> that should be plotted.</p></li>
<li><p><code>col_palette</code> A function defining the color palette. The default palette
is <code>viridis::rev(plasma())</code>. Specifying the color palette as a function
allows for greater flexibility than passing the palette as a vector.
We provide an example on how to create a function from any color palette
below.</p></li>
<li><p><code>n_shades</code> The number of color shades to plot, default is 50.</p></li>
<li><p><code>breaks</code> The vector of breaks for the color legend. If <code>n_shades</code> is provided,
this should be of length <code>n_shades + 1</code>.</p></li>
<li><p><code>show_legend</code> A Boolean. Default is <code>TRUE</code>. If <code>FALSE</code> no legend will be
plotted, useful for multi-panel figures with common legend. Works only
for plots on rectangular grid (i.e. transformed (u,s) plane)</p></li>
<li><p><code>main</code> The title of the plot.</p></li>
<li><p><code>xlab</code> The label of the first time axis (plotted on the x axis).</p></li>
<li><p><code>ylab</code> The label of the second time axis (plotted on the y axis).</p></li>
<li><p><code>xlim</code> A vector with two elements defining the limits of the time scale
on the x axis.</p></li>
<li><p><code>ylim</code> A vector with two elements defining the limits of the time scale
on the y axis.</p></li>
<li><p><code>contour_lines</code> A Boolean. Default is <code>FALSE</code>. If <code>TRUE</code> white contour
lines are added to the surfaces.</p></li>
<li><p><code>contour_col</code> The color for the contour lines. Default is <code>white</code>.</p></li>
<li><p><code>contour_cex</code> The magnification to be used for the contour lines.
Default is <code>.8</code>.</p></li>
<li><p><code>contour_nlev</code> The number of contour levels desired. Default is 10.</p></li>
<li><p><code>cex_main</code> The magnification to be used for the main title, default is 1.2 .</p></li>
<li><p><code>cex_lab</code> The magnification to be used for the axis labels, default is 1 .</p></li>
<li><p><code>HR</code> A Boolean. If <code>TRUE</code> the HRs with their CIs will be plotted.
Default is <code>FALSE</code> (plot the <code>beta</code> with their CIs).</p></li>
<li><p><code>symmetric_CI</code> A Boolean. Default is <code>TRUE</code>. If a plot of the HRs is
required (<code>HR == TRUE</code>), then plot symmetrical Confidence Intervals,
based on the SEs for the HRs calculated by delta method.
If <code>FALSE</code>, then CIs are obtained by exponentiating the CIs for the betas.</p></li>
<li><p><code>confidence</code> The level of confidence for the CIs. Default is .95 (alpha
= 0.05).</p></li>
<li><p><code>col_beta</code> The color for the plot of the covariates' effects.</p></li>
<li><p><code>pch</code> The symbol for plotting the point estimates.</p></li>
<li><p><code>lwd</code> The line width.</p></li>
</ul></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments to image.plot or image</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A plot of the fitted model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a color pallete function from a RColorBrewer palette, using the function</span></span></span>
<span class="r-in"><span><span class="co"># colorRampPalette from grDevices.</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="va">mypal</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>           <span class="fu"><a href="https://rdrr.io/r/grDevices/colorRamp.html" class="external-link">colorRampPalette</a></span><span class="op">(</span><span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span><span class="fl">9</span>, <span class="st">"YlGnBu"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span>           <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="co"># if mod_haz is a fitted model of class haz2ts, the following code will</span></span></span>
<span class="r-in"><span>  <span class="co"># produce a cross-sections plot of the hazard over `s` for selected values</span></span></span>
<span class="r-in"><span>  <span class="co"># of `u`, with the palette specified above</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod_haz</span>,</span></span>
<span class="r-in"><span>       which_plot <span class="op">=</span> <span class="st">"slices"</span>,</span></span>
<span class="r-in"><span>       where_slices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">90</span>, <span class="fl">180</span>, <span class="fl">365</span>, <span class="fl">1000</span>, <span class="fl">2000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       direction <span class="op">=</span> <span class="st">"u"</span>,</span></span>
<span class="r-in"><span>       plot_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col_palette <span class="op">=</span> <span class="va">mypal</span>,</span></span>
<span class="r-in"><span>                           main <span class="op">=</span> <span class="st">"Cross-sections of the hazard"</span>,</span></span>
<span class="r-in"><span>                           xlab <span class="op">=</span> <span class="st">"Time since recurrence"</span>,</span></span>
<span class="r-in"><span>                           ylab <span class="op">=</span> <span class="st">"Hazard"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Angela Carollo, Paul H.C. Eilers, Jutta Gampe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

