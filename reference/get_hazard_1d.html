<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get estimated (log-)hazard values with 1 time scale — get_hazard_1d • TwoTimeScales</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get estimated (log-)hazard values with 1 time scale — get_hazard_1d"><meta name="description" content="get_hazard_1d() takes as input the results of a model
estimated by fit1ts and it returns the estimated values of the smooth log-hazard
and the smooth hazard together with their standard errors.
If the model includes covariates, then only the baseline (log-)hazard is returned.
It is possible to provide values that define a new grid for evaluation of the
estimated hazard.
If not specified, the hazard is evaluated on the same grid used for the
binning of the data, and therefore the estimation of the model.
The function will check if the parameters for the new grid
provided by the user are compatible with those originally used to construct
the B-splines for estimating the model. If not, the grid will be adjusted
accordingly and a warning will be returned."><meta property="og:description" content="get_hazard_1d() takes as input the results of a model
estimated by fit1ts and it returns the estimated values of the smooth log-hazard
and the smooth hazard together with their standard errors.
If the model includes covariates, then only the baseline (log-)hazard is returned.
It is possible to provide values that define a new grid for evaluation of the
estimated hazard.
If not specified, the hazard is evaluated on the same grid used for the
binning of the data, and therefore the estimation of the model.
The function will check if the parameters for the new grid
provided by the user are compatible with those originally used to construct
the B-splines for estimating the model. If not, the grid will be adjusted
accordingly and a warning will be returned."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TwoTimeScales</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Homepage"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
      </ul><ul class="navbar-nav"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> functions</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AngelaCar/TwoTimeScales"><span class="fa fa-github fa-lg fab"></span> github</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get estimated (log-)hazard values with 1 time scale</h1>
      <small class="dont-index">Source: <a href="https://github.com/AngelaCar/TwoTimeScales/blob/main/R/get_hazard_1d.R" class="external-link"><code>R/get_hazard_1d.R</code></a></small>
      <div class="d-none name"><code>get_hazard_1d.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>get_hazard_1d()</code> takes as input the results of a model
estimated by <code>fit1ts</code> and it returns the estimated values of the smooth log-hazard
and the smooth hazard together with their standard errors.</p>
<p>If the model includes covariates, then only the baseline (log-)hazard is returned.
It is possible to provide values that define a new grid for evaluation of the
estimated hazard.
If not specified, the hazard is evaluated on the same grid used for the
binning of the data, and therefore the estimation of the model.
The function will check if the parameters for the new grid
provided by the user are compatible with those originally used to construct
the B-splines for estimating the model. If not, the grid will be adjusted
accordingly and a warning will be returned.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_hazard_1d</span><span class="op">(</span><span class="va">fitted_model</span>, plot_grid <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fitted-model">fitted_model<a class="anchor" aria-label="anchor" href="#arg-fitted-model"></a></dt>
<dd><p>is an object of class <code>"haz1ts"</code>, the output of the function <code><a href="fit1ts.html">fit1ts()</a></code>.</p></dd>


<dt id="arg-plot-grid">plot_grid<a class="anchor" aria-label="anchor" href="#arg-plot-grid"></a></dt>
<dd><p>(optional) A named vector containing the parameters to build a new
grid of intervals over <code>s</code> for plotting the estimated hazard on a finer
grid. This must be of the form: <code>plot_grid = c(smin, smax, ds)</code>,
where <code>smin</code>, <code>smax</code> are the minimum and maximum values desired for the
intervals over <code>s</code>, and <code>ds</code> is the distance between intervals over <code>s</code>. If
not specified, the plotting is done using the same B-splines basis as for
the estimation. The function will check if the parameters for the grid
provided by the user are compatible with those originally used to construct
the B-splines for estimating the model. If not, the grid will be adjusted
accordingly and a warning will be returned.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the following elements:</p><ul><li><p><code>new_plot_grid</code> A list of parameters that specify the new grid, of the form
list("ints", "smin", "smax", "ds")</p></li>
<li><p><code>hazard</code> A vector containing the estimated hazard values.</p></li>
<li><p><code>loghazard</code> A vector containing the estimated log-hazard values.</p></li>
<li><p><code>log10hazard</code> A vector containing the estimated log10-hazard values.</p></li>
<li><p><code>SE_hazard</code> A vector containing the estimated SEs for the hazard.</p></li>
<li><p><code>SE_loghazard</code> A vector containing the estimated SEs for the log-hazard.</p></li>
<li><p><code>SE_log10hazard</code> A vector containing the estimated SEs for the log10-hazard.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## preparing data - no covariates</span></span></span>
<span class="r-in"><span><span class="va">dt1ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">reccolon2ts</span>,</span></span>
<span class="r-in"><span>                      s_in <span class="op">=</span> <span class="st">"entrys"</span>,</span></span>
<span class="r-in"><span>                      s_out <span class="op">=</span> <span class="st">"timesr"</span>,</span></span>
<span class="r-in"><span>                      events <span class="op">=</span> <span class="st">"status"</span>,</span></span>
<span class="r-in"><span>                      ds <span class="op">=</span> <span class="fl">180</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## fitting the model with fit1ts() - default options</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit1ts.html">fit1ts</a></span><span class="op">(</span><span class="va">dt1ts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Obtain 1d hazard</span></span></span>
<span class="r-in"><span><span class="fu">get_hazard_1d</span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_plot_grid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_plot_grid$ints</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]    0  180  360  540  720  900 1080 1260 1440 1620 1800 1980 2160 2340 2520</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] 2700 2880</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_plot_grid$smin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_plot_grid$smax</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2880</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $new_plot_grid$ds</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.0015531449</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.0018420923</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.0020660741</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.0021276863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.0019876180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.0016722017</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.0012900366</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.0009775307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.0007626566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.0006230891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 0.0005248473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 0.0004479707</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] 0.0003840641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] 0.0003291814</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] 0.0002815270</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] 0.0002404806</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] 0.0002053373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $loghazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] -6.467473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] -6.296853</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] -6.182105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] -6.152720</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] -6.220818</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] -6.393614</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] -6.653085</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] -6.930481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] -7.178703</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] -7.380821</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] -7.552403</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] -7.710783</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] -7.864701</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] -8.018902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] -8.175282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] -8.332871</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] -8.490857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $log10hazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] -2.808788</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] -2.734689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] -2.684854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] -2.672092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] -2.701667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] -2.776711</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] -2.889398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] -3.009870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] -3.117671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] -3.205450</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] -3.279967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] -3.348750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] -3.415596</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] -3.482565</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] -3.550480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] -3.618920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] -3.687532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SE_hazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.0002526441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.0002000306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.0002039537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.0002209619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.0002334321</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.0002297991</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.0002100782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.0001881904</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.0001742950</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.0001724719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 0.0001826458</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 0.0002025360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] 0.0002289142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] 0.0002572516</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] 0.0002835436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] 0.0003053558</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] 0.0003214851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SE_loghazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.16266613</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.10858879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.09871559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.10385077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.11744312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.13742310</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.16284667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.19251606</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.22853662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.27680127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 0.34799800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 0.45211885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] 0.59603121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] 0.78148889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] 1.00716301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] 1.26977289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] 1.56564416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SE_log10hazard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 0.07064500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 0.04715951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 0.04287163</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 0.04510182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 0.05100490</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 0.05968209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 0.07072341</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 0.08360866</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 0.09925219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 0.12021326</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 0.15113361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 0.19635272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,] 0.25885306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] 0.33939631</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,] 0.43740534</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,] 0.55145536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,] 0.67995062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Angela Carollo, Paul H.C. Eilers, Jutta Gampe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

